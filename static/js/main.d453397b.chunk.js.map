{"version":3,"sources":["styles.module.css","Quote.js","App.js","reportWebVitals.js","index.js","Tooltip.js"],"names":["module","exports","Quote","className","styles","quote","bubble","quoteText","quoteName","quoteTitle","avatar","alt","src","isProduction","window","location","href","includes","STRIPE_PUBLC_API_KEY","STRIPE_PRODUCT_ID","stripePromise","loadStripe","result","parse","search","App","useState","isLoading","setIsLoading","isChecked","setIsChecked","isError","setIsError","handleClick","event","a","stripe","redirectToCheckout","lineItems","price","quantity","mode","successUrl","origin","cancelUrl","error","viewport","leftPane","content","rightPane","success","homeLink","verticalSpacer","list","Tooltip","checkbox","name","type","checked","onChange","target","errorMessage","role","onClick","testBanner","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","children","triggerElement","useRef","isOverlayAboveTrigger","setIsOverlayAboveTrigger","useEffect","handleResize","current","getBoundingClientRect","nextIsOverlayAboveTrigger","innerHeight","bottom","global","addEventListener","removeEventListener","getClassNames","tooltip","isAbove","tooltipOverlay","tooltipArrow","tooltipContent","ref"],"mappings":"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","file":"static/js/main.d453397b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewport\":\"styles_viewport__E9-TC\",\"leftPane\":\"styles_leftPane__VuhBz\",\"rightPane\":\"styles_rightPane__37iG_\",\"quote\":\"styles_quote__WnmT2\",\"homeLink\":\"styles_homeLink__3KVFY\",\"content\":\"styles_content__213aE\",\"testBanner\":\"styles_testBanner__3Fz7u\",\"success\":\"styles_success__3Pg6U\",\"verticalSpacer\":\"styles_verticalSpacer__2TMUO\",\"list\":\"styles_list__1X_Wo\",\"bubble\":\"styles_bubble__2LZyD\",\"quoteText\":\"styles_quoteText__39BGv\",\"quoteName\":\"styles_quoteName__Dms6z\",\"quoteTitle\":\"styles_quoteTitle__1Gm7e\",\"avatar\":\"styles_avatar__1frs7\",\"checkbox\":\"styles_checkbox__3aJnU\",\"tooltip\":\"styles_tooltip__3-7ee\",\"errorMessage\":\"styles_errorMessage__2zmj9\",\"tooltipOverlay\":\"styles_tooltipOverlay__2rRQB\",\"isAbove\":\"styles_isAbove__2gL88\",\"tooltipArrow\":\"styles_tooltipArrow__wqN0_\",\"tooltipContent\":\"styles_tooltipContent__2w9UW\"};","import styles from './styles.module.css';\n\nexport const Quote = () => (\n  <div className={styles.quote}>\n    <div className={styles.bubble}>\n      <div className={styles.quoteText}>“The work shouldn’t be on the customer to find great care. Oliva’s approach is such a relief.”</div>\n      <div className={styles.quoteName}>Adelina Peltea</div>\n      <div className={styles.quoteTitle}>VP of Marketing, Mother, Leader</div>\n    </div>\n    <div className={styles.avatar}>\n      <img alt=\"professional\" src=\"https://oliva-static-assets.s3.amazonaws.com/5fb259846543242f58e0166c_adelina-peltea-linkedin-profile-photo.jpg\"/>\n    </div>\n  </div>\n);\n","import { Fragment, useState } from 'react';\nimport { Button, Paragraph, SmallPrint } from '@olivahouse/ui';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { parse } from 'query-string';\n\nimport '@olivahouse/ui/lib/styles.css';\n\nimport styles from './styles.module.css';\n\nimport { Tooltip } from './Tooltip';\nimport { Quote } from './Quote';\n\nconst isProduction = !window.location.href.includes('localhost');\n\nconst STRIPE_PUBLC_API_KEY = isProduction\n  ? 'pk_live_51HYpBBIC0gTe0BTt1h2esyxTioSzPbrMk4vRFtV8OL8XCR0obV2Ieo18Ozw1PZoCfAtqfEAPQA2xXHeCz7mWKTqQ002QJbMlee'\n  : 'pk_test_51HYpBBIC0gTe0BTtZkET4e30h4PpAgB23MVqHvN9ffoYg2oAsu1HI7QfTOuLWwUhpgOcd8oeZ6CVFcVjU4QmS28Z006bgCey7P';\nconst STRIPE_PRODUCT_ID = isProduction\n  ? 'price_1Hw4AdIC0gTe0BTt0ryp1H41'\n  : 'price_1Hw4cNIC0gTe0BTth8yw42hB';\n\nconst stripePromise = loadStripe(STRIPE_PUBLC_API_KEY);\n\nconst { result } = parse(window.location.search);\n\nconst App = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isChecked, setIsChecked] = useState(false);\n  const [isError, setIsError] = useState(false);\n\n  const handleClick = async (event) => {\n\n    if (!isChecked) {\n      setIsError(true);\n      return;\n    }\n\n    setIsLoading(true);\n    // When the customer clicks on the button, redirect them to Checkout.\n    const stripe = await stripePromise;\n    const { error } = await stripe.redirectToCheckout({\n      lineItems: [{\n        price: STRIPE_PRODUCT_ID,\n        quantity: 1,\n      }],\n      mode: 'payment',\n      successUrl: `${window.location.origin}?result=success`,\n      cancelUrl: window.location.origin,\n    });\n    // If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `error.message`.\n    if (error) {\n      setIsLoading(false);\n    }\n  };\n\n  const handleChangeCheckbox = ({ target }) => {\n    setIsChecked(!isChecked);\n    setIsError(false);\n  };\n\n  return (\n    <div className={styles.viewport}>\n      <div className={styles.leftPane}>\n        <div className={styles.content}>\n          {result === 'success'\n            ? <a href=\"https://oliva.health\"><img alt=\"logo\" src=\"https://oliva-static-assets.s3.amazonaws.com/5f4625e7bfab83f32de77fe9_Oliva-logo-svg.svg\" /></a>\n            : <Quote />\n          }\n        </div>\n      </div>\n      <div className={styles.rightPane}>\n        <div className={styles.content}>\n          {result === 'success'\n            ? <Fragment>\n                <div className={styles.success}>\n                  <Paragraph>Thanks!</Paragraph>\n                  <Paragraph>Your payment was successful. We just emailed you a receipt.</Paragraph>\n                  <Paragraph>You'll receive your festive gift card within 2 working days and before Dec 24th.</Paragraph>\n                  <img alt=\"success\" src=\"https://oliva-static-assets.s3.amazonaws.com/Communication.png\"/>\n                  <Paragraph>Happy new year for 2021.<br/> We all need it.</Paragraph>\n                </div>\n                <a className={styles.homeLink} href=\"https://oliva.health\">\n                  <img src=\"https://oliva-static-assets.s3.amazonaws.com/5fae958234933b025f2fe5c5_logo-oliva.svg\" />\n                </a>\n              </Fragment>\n            : <Fragment>\n                <div className={styles.verticalSpacer}/>\n                <Paragraph>Here's how it works</Paragraph>\n                <div className={styles.list}>\n                  <div>\n                    <h2>1</h2>\n                    <Paragraph>We'll send you a beautiful, festive gift card with a unique code. You can print or forward it to your friend or loved one.</Paragraph>\n                  </div>\n                  <div>\n                    <h2>2</h2>\n                    <Paragraph>\n                      They can use the code to book their first session from January 1st. They'll start with a free{' '}\n                      <Tooltip content=\"The goal of the matching session is to find your friend the right therapist\">\n                        matching session\n                      </Tooltip>\n                      , then they'll have three one-hour therapy sessions via video call.\n                    </Paragraph>\n                  </div>\n                  <div>\n                    <h2>3</h2>\n                    <Paragraph>Processing 2020 becomes much easier.</Paragraph>\n                  </div>\n                </div>\n                <Quote />\n                <div className={styles.checkbox}>\n                  <input name=\"legal\" type=\"checkbox\" checked={isChecked} onChange={handleChangeCheckbox} />\n                  <SmallPrint>\n                    I agree to the{' '}\n                    <Tooltip content={\n                      <Fragment>\n                        <SmallPrint>Recipients must be 18 years or older to receive therapy from Oliva.</SmallPrint>\n                        <SmallPrint>Offer valid for the UK and EU only.</SmallPrint>\n                        <SmallPrint>Oliva is not suitable for people in a crisis. Please see our website for helplines.</SmallPrint>\n                        <SmallPrint>Therapy sessions from this offer must be redeemed by March 31st 2021.</SmallPrint>\n                      </Fragment>\n                    }>\n                      terms of the offer\n                    </Tooltip>\n                  </SmallPrint>\n                  {isError && <div className={styles.errorMessage}><SmallPrint>We need you to agree to the terms.</SmallPrint></div>}\n                </div>\n                <Button isLoading={isLoading} role=\"link\" onClick={handleClick}>\n                  Gift 3 therapy sessions for £250\n                </Button>\n              </Fragment>\n          }\n        </div>\n      </div>\n      {isProduction ? null : <div className={styles.testBanner}>Test mode</div>}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { useEffect, useRef, useState } from 'react';\nimport getClassNames from 'classnames';\n\nimport styles from './styles.module.css';\n\nexport const Tooltip = ({ children, content }) => {\n  const triggerElement = useRef(null);\n\n  const [isOverlayAboveTrigger, setIsOverlayAboveTrigger] = useState(false);\n\n  useEffect(() => {\n\n      const handleResize = () => {\n\n        const { current } = triggerElement;\n\n        if (!current || !current.getBoundingClientRect) return;\n\n        const nextIsOverlayAboveTrigger = window.innerHeight - current.getBoundingClientRect().bottom < 300;\n\n        setIsOverlayAboveTrigger(nextIsOverlayAboveTrigger);\n      };\n\n      global.addEventListener('resize', handleResize);\n\n      handleResize();\n\n      return () => global.removeEventListener('resize', handleResize);\n\n  }, []);\n\n  return (\n    <span className={getClassNames(styles.tooltip, { [styles.isAbove]: isOverlayAboveTrigger })  }>\n      <span className={styles.tooltipOverlay}>\n        <span className={styles.tooltipArrow} />\n        <span className={styles.tooltipContent}>{content}</span>\n      </span>\n      <a ref={triggerElement}>{children}</a>\n    </span>\n  )\n};\n"],"sourceRoot":""}